<!-- based on https://github.com/rafrex/spa-github-pages/blob/gh-pages/404.html -->

<!-- this script requires the app be hosted at root level -->
<!-- eg. greenelab.github.io/adage-frontend will not work properly -->

<html>
  <body>
    <script type="text/javascript">
      // get components of url
      const { pathname, search, href: oldUrl } = window.location;

      // encode url into single param and redirect to root of SPA
      const path = encodeURIComponent(pathname + search);
      const newUrl = '/?path=' + path;

      console.log({ oldUrl, newUrl });

      // go to new url w/o tab history entry
      window.location.replace(newUrl);
    </script>
  </body>
</html>
