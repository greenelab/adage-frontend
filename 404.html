<!-- based on https://github.com/rafrex/spa-github-pages/blob/gh-pages/404.html -->

<html>
  <body>
    <script type="text/javascript">
      const prefix = '/adage-frontend';

      let { pathname, search, href: originalUrl } = window.location;

      const basename = pathname.includes(prefix) ? prefix : '';
      pathname = pathname.replace(prefix, '');

      const path = encodeURIComponent(basename + pathname + search);
      const newUrl = basename + '/?path=' + path;

      console.log({ originalUrl, path, newUrl });

      window.location.replace(newUrl);
    </script>
  </body>
</html>
